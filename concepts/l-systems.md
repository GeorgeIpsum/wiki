---
description: trees and stuff dude
---

# l-systems

![how it feels learning about this stuff](<../.gitbook/assets/image (11).png>)

Lindenmayer systems were used primarily for plant development and topology and then evolved into more pure geometric systems.

Central concept of L-system is that of rewriting: technique for defining complex objects by successively replacing parts of a simple initial objects using a set of rewriting rules or productions (called Koch productions). Snowflake curve is good example:

![snowflake curve](<../.gitbook/assets/image (10).png>)

## Rewriting Systems

Mandelbrot is the colloquial/ household name for this. Begin with two shapes, initiator and generator.

The generator is an oriented broken line made up of N equal sides of length r. Each stage of Koch construction begins with broken line and consists in replacing each straight interval with a copy of the generator (generator is reduced/ displaced to have the same end points as interval being replaced).

Koch construction recursively replaces open polygons primarily; other systems have been investigated such as Wolfram (rewriting rectangular arrays) or Conway (game of life) and other graph-rewriting systems.

Best understood rewriting systems operate on char strings. Chomsky's work on formal grammars applied concept of rewriting to describe syntactic features of natural languages. Backus and Naur form (BNF) and Chomsky's context free grammars were applied to computer science soon afterwards. L-systems were introduced afterwards when biologist Aristid Lindenmayer attempted to apply string-rewriting to biology. Major difference between Chomsky grammars and L-systems lay in method of applying productions: Chomsky grammars productions are applied sequentially whiel in L-systems productions are applied in parallel and simultaneously replace all letters in a given word. Productions in L-systems are meant to capture cell divisions in multicellular organisms, and the parallelism of productions has an essential impact on the formal properties of rewriting systems. There are languages that can be generated by context-free L-systems (called OL-systems) but not by context-free Chomsky grammars.

## DOL-systems

DOL-systems are the simplest class of L-systems: deterministic and context-free.

Example: consider strings built of two letters a and b (both can occur many times in a string); each letter is associated with a rewriting rule. Rule a -> ab means letter a is replaced by string ab, and rule b-> a means that letter b is replaced by a. Rewriting process starts from a distinguished string called the axiom. Assume axiom is **b**:

| text                                                                                                                                                                                                                                                                                              | image                                                        |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------ |
| <p></p><ul><li><p>b -> a -> ab</p><ul><li><p>a -> ab</p><ul><li><p>a -> ab</p><ul><li>a -> ab</li><li>b -> a</li></ul></li><li><p>b -> a</p><ul><li>a -> ab</li></ul></li></ul></li><li><p>b -> a</p><ul><li><p>a -> ab</p><ul><li>a -> ab</li><li>b -> a</li></ul></li></ul></li></ul></li></ul> | ![axiom b: 4 levels in](<../.gitbook/assets/image (13).png>) |

Final string is **abaababa**. The simultaneous replacement is important here because it means replacement is done on individual derivation steps.

### Formal definition

_V_ = alphabet, _V\*_ = set of all words over _V_, _V^+_ set of all nonempty words over _V_.&#x20;

String OL-system is an ordered triplet _G_ = _\<V,w,P>_ where where _w_ is in _V^+_ and is called the axiom, and _P_ is a FINITE set of productions. A production (\_a, x\_) is in _P_ is written as _a_ -> _x_. The letter a and the word x are called the predecessor and the successor of this production respectively. It is assumed that for any letter a in V, there is at least one word x in V\* such that a -> x. If no production is explicityl specified for a given predecessor a in V, the identity production a -> a is assumed to belong to the set of productions P. An OL-system is deterministic if and only if for each a in V there is exactly one x in V\* such that a -> x.

### Derivation

Let mu = a1...am be an arbitrary word over V. The word v = x1...xm in V\* is directly derived from (or generated by)( mu, noted mu => v, if and only if ai -> xi for all i = 1...m. A word v is generated by G in a derivation of length n if there exists a developmental sequence of words mu0,mu1...mun such that mu0 = w, mun = v and mu0 => mu1 => ... => mun.

## Turtle interpretations

Modeling higher plants requires a more sophisticated graphical interpreation of L-systems as opposed to the one used to model Anabaena catenula. Lindenmayer, Frijters, Hogeweg, and Hesper used L-systems to determine branching topology of modeled plants, geometric aspects such as line segment lengths and angle values were added in a post processing phase.

Szilard and Quinton proposed different approach to L-system interpreation: they contentrated on image representations with rigorously defined geometry, such as chain coding and showed that simple DOL systems could generate fractal-like geometry. Siromoney and Subramanian specified L-systems which generate classic space filling curves; Dekking investigated the limit properties of curves generated by L-systems and contenrated on the problem of determining fractal dimension of the limit set. Turtle interpretations include applications that result in modeling herbaceous plants, descriptions of kolam patterns (art in South India), synthesizing musical scores, and automatic generation of space-filling curves.

### Basic idea

A _state_ of the _turtle_ is defined as a triplex ( _x_, _y_, _a_ ) where the Cartesian coordinates (x,y) represent the turtle's _position_, and the angle a called the _heading_ is interpreted as the direction in which the turtle is facing. Given _step size d_ and _angle increment sDelta_ the turtle can respond to commands represented by the following symbols:

![](<../.gitbook/assets/image (4).png>)

F: move step forward of length d. Turtle state changes to (x', y', a), where x' = x+dcos(a) and y' = y+dsin(a). A line segment between points (x,y) and (x',y') is drawn.

f: move forward a step of length d without drawing a line.

\+: Turn left by angle sDelta. Next state of the turtle is (x,y,a + sDelta). The positive orientation of angles is counter-clockwise.

\-: Turn right by angle sDelta. Next state of turtle is (x,y,a - sDelta).

Given a string v, the initial state of the turtle (x0, y0, a0), and fixed parameters d and sDelta, the turtle interpretation of v is the figure/ set of lines drawn by the turtle in response to the string v. This method can more specifically be used to interpret strings created by L-systems.

Comparing to Koch constructions of L-systems, the initator is the same as the axiom while the generator corresponds with the production successor.

![](<../.gitbook/assets/image (3).png>)

![](<../.gitbook/assets/image (9).png>)

## DOL-system synthesis

Randomly modifying productions doesn't provide insight into relationship between L-sysetms and the figures they generate. The _inference problem_ refers to how we wish to construct an L-system that captures a give structure or sequence of structures represeneting a developmental process. No algorims are advanced enough to be of practical value in the modeling of higher plants. More intuitive methods called _edge rewriting_ and _node rewriting_ (borrowing from graph terminology): edge rewriting has productions substitute figures for polygon edges, node rewriting has productions operate on polygon vertices.

### Edge rewriting

Can be considered an extension of Koch constructions. FASS curves (space-filling, self-avoiding, simple and self-similar) can be thought of as finite, self-avoiding approximatinos of curves that pass through all points of a square (space-filling curves).

### Node rewriting

Substitute polygons for nodes of the predecessor curve.
